;/*!/widget/getInfo/getInfo.js*/
define("exchange:widget/getInfo/getInfo",function(a){var e=a("exchange:static/Event/Event");e.on("getInfo",function(a){$.ajax({url:"http://v.baidu.com/videoapi",data:{format:"json",page_name:a.param.pn||"index",block_sign:(a.param.type||"list")+"_"+(a.param.block||"index_top_movie_all"),fr:a.param.fr||""},dataType:"jsonp",success:function(e){a.callback&&a.callback(e)},error:function(){a.error&&a.error()}})})});
;/*!/widget/parseURl/parseURl.js*/
define("exchange:widget/parseURl/parseURl",function(e,r,a){function t(e){function r(e){for(var r=e&&e.match(/[\w|%]+=[\w|%|,]+/g)||[],a={},t=0,c=r.length;c>t;t++){var n=r[t].split("=");a[n[0]]=n[1]}return a}var e=e.replace(/\s/g,""),a=e.match(/[\w|%|.][^?|#]*/gi),t=/\:\/\/([^\/]*)/.exec(e),c=/\:(\d*)/.exec(t[1]);return{href:e,protocol:a[0].match(/\w+(?=:)/i)[0],host:t[1],port:c&&c[1]||80,search:a[1],hash:r(a[2]),param:r(a[1])}}a.exports=r.parseURl=t});
;/*!/widget/news/news.js*/
define("exchange:widget/news/news",function(require,exports,module){function news(n){"news"===n.param.block&&(n.param.block="index_focus_poster_big,index_focus_poster_small,index_show_mini_info,index_show_mini_playlet,index_show_mini_sport,index_show_mini_comic"),n.callback=function(e){var t={};_.each(e,function(n){t[n.name]=n});var e=[];_.each(keymap,function(n,a){e.push(t[a])});var a=0;!function(t,a){$(".list").html(tmpl.news({subNav:keymap,cur:t,data:e,len:n.param.len||5})),a&&a(arguments.callee)}(0,function(n){$(".list").on("mouseenter",".sub-nav .nav-item",function(){n(a=0)}),$(".list").on("mouseenter",".sub-nav li:not(.more)",function(){var e=$(this).index()+1;a!==e&&(a=e,n(a))})}),V.nsclick.setParam("tpl","exnews-v"),V.nsclick.setParam("tn","exnews-v");var i="";n.param&&n.param.page&&(V.nsclick.setParam("page",n.param.page),i="&page="+n.param.page),$.log("http://pc.videoclick.baidu.com/p.gif?pid=104&tpl=exnews-v&tn=exnews-v&bl="+e.bl+i)},n.error=function(){},Event.trigger("getInfo",n)}var Event=require("exchange:static/Event/Event");require("exchange:widget/getInfo/getInfo"),require("exchange:static/statistics/statistics");var tmpl={news:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="<!--  news.tmpl -->\n<div class='news-tmpl'>\n    <div class='sub-nav'>\n        <h2 class='nav-item'>今日聚焦<span>FOCUS</span></h2>\n        <ul>\n            ";var subNavData=data.slice(1),subLen=subNavData.length;_.each(subNavData,function(n,e){__p+="\n            <li class='",e===cur-1&&(__p+="active"),__p+=" ",e+1===subLen&&(__p+=" last-one"),__p+="'>\n                    <a href='javascript:void(0)'>\n                        "+(null==(__t=subNav[n.name])?"":__t)+"\n                    </a>\n                </li>\n                "}),__p+="\n                <li class='more'><a href='http://v.baidu.com?fr=open_bd_news01' target=\"_blank\">更多</a></li>\n        </ul>\n    </div>\n    <div class=\"new-con\">\n        ";var getitem=data.slice(cur,cur+1);_.isEmpty(getitem)||(__p+="\n            ",_.each(getitem[0].data.videos.slice(0,len),function(n,e){__p+='\n            <div class="item ',(e+1)%5===0&&(__p+="last"),__p+='">\n                <div class="video h-item">\n                    <a href=\''+(null==(__t=n.url)?"":__t)+"' target='_blank' static=\"stp=po\" title='"+(null==(__t=n.title)?"":__t)+"' class=\"item-focus-a\">\n                        <img class='vid-cover' src=\""+(null==(__t=n.imgh_url||n.imgv_url)?"":__t)+'" alt="'+(null==(__t=n.title)?"":__t)+"\" />\n                        <span class='gradient-bg'>&nbsp;</span>\n                        <span class='play-video-icon'>&nbsp;</span>\n                        <span class=\"vid-info\">",__p+=n.sub_title&&""!==n.sub_title?""+(null==(__t=n.title.slice(0,12))?"":__t)+"<p>"+(null==(__t=n.sub_title.slice(0,15))?"":__t)+"</p>":""+(null==(__t=n.title)?"":__t),__p+="",n.update&&n.update>1e3&&(__p+=' <i class="play-icon">'+(null==(__t=(n.update/1e4).toFixed(2))?"":__t)+"&nbsp;万</i>"),__p+='<i class="play-video">播放</i></span>\n                    </a>\n                </div>\n            </div>\n            '}),__p+="\n        "),__p+="\n    </div>\n</div>\n\n"}return __p}},keymap={index_focus_poster_big:"小编推荐",index_focus_poster_small:"热点",index_show_mini_info:"资讯",index_show_mini_playlet:"娱乐",index_show_mini_sport:"体育",index_show_mini_comic:"搞笑"};module.exports=exports.news=news});
;/*!/widget/list/list.js*/
define("exchange:widget/list/list",function(require,exports,module){function list(t){t.callback=function(_){_=_[0].data,_.info=conf[_.bl]||{name:"视频排行榜",href:"http://v.baidu.com/top/?section=tvplay"},_.videos=_.videos.slice(0,t.param.len||10);try{$(".list").html(tmpl[t.param.tpl](_))}catch(n){$(".list").html(tmpl.video(_))}V.nsclick.setParam("tpl","exhao123-v"),V.nsclick.setParam("tn","exhao123-v");var l="";t.param&&t.param.page&&(V.nsclick.setParam("page",t.param.page),l="&page="+t.param.page),$.log("http://pc.videoclick.baidu.com/p.gif?pid=104&tpl=exhao123-v&tn=exhao123-v&bl="+_.bl+"&blname="+_.info.name+l)},t.error=function(){},Event.trigger("getInfo",t)}var Event=require("exchange:static/Event/Event");require("exchange:widget/getInfo/getInfo"),require("exchange:static/statistics/statistics");var tmpl={video:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<!--  list.tmpl -->\n\n<div class='list-tmpl'>\n    <div class='list-title'>\n        <h1>"+(null==(__t=info.name)?"":__t)+'</h1><a target="_blank" title="更多'+(null==(__t=info.name)?"":__t)+"\"\n            href='"+(null==(__t=info.href)?"":__t)+"'>更多&gt;&gt;</a>\n    </div>\n    <ul>\n        ",_.forEach(videos,function(t,_){__p+="\n        ",t.hot_day>9999&&(t.hot_day=(t.hot_day/1e4).toFixed(1)+"万"),__p+='\n        <li class="index-'+(null==(__t=_+1)?"":__t)+"\" static='bl="+(null==(__t=bl)?"":__t)+"&stp="+(null==(__t=_+1)?"":__t)+"'>\n            <a href=\""+(null==(__t=t.url)?"":__t)+"\" target='_blank' title='"+(null==(__t=t.title)?"":__t)+"'>\n                ",_+1===1&&(__p+="\n                    <img src='"+(null==(__t=t.imgh_url)?"":__t)+"' >\n                "),__p+="\n                <i class='index-num'>"+(null==(__t=_+1)?"":__t)+'</i>\n                <span class="video-title">'+(null==(__t=t.title)?"":__t)+'</span>\n                <em class="play-num">'+(null==(__t=t.hot_day)?"":__t)+"</em>\n            </a> \n        </li>\n        "}),__p+="\n    </ul>\n</div>\n";return __p},zongyi:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<!--  gaoxiao.tmpl -->\n\n<div class='gaoxiao-tmpl'>\n    <div class='gaoxiao-title'>\n        <img src=\""+(null==(__t="./widget/list/tmpl/zongyi_dd7e1ba.jpg")?"":__t)+'">\n    </div>\n    <ul>\n        ',_.forEach(videos,function(t,_){__p+="\n        ",t.hot_day>9999&&(t.hot_day=(t.hot_day/1e4).toFixed(1)+"万"),__p+='\n        <li class="index-'+(null==(__t=_+1)?"":__t)+" ",0===_&&(__p+=" hover"),__p+="\" static='bl="+(null==(__t=bl)?"":__t)+"&stp="+(null==(__t=_+1)?"":__t)+"'>\n            <a href=\""+(null==(__t=t.url)?"":__t)+"\" target='_blank' title='"+(null==(__t=t.title)?"":__t)+"'>\n                <i class='index-num'>"+(null==(__t=_+1)?"":__t)+'</i>\n                <span class="video-title">'+(null==(__t=t.title)?"":__t)+'</span>\n                <em class="play-num">'+(null==(__t=t.hot_day)?"":__t)+"</em>\n                <img src='"+(null==(__t=t.imgh_url)?"":__t)+"' >\n            </a> \n        </li>\n        "}),__p+="\n    </ul>\n</div>\n",$(".list").on("mouseenter",".gaoxiao-tmpl li",function(){$(this).addClass("hover").siblings().removeClass("hover")}),__p+="\n";return __p}},conf={index_top_tamasha:{name:"综艺排行榜",href:"http://v.baidu.com/top/?section=tvshow"},index_top_movie_all:{name:"电影排行榜",href:"http://v.baidu.com/top/?section=movie"},index_top_tv_all:{name:"电视剧排行榜",href:"http://v.baidu.com/top/?section=tvplay"}};module.exports=exports.list=list});
;/*!/widget/adaptive/adaptive.js*/
define("exchange:widget/adaptive/adaptive",function(e){e("exchange:widget/getInfo/getInfo");var a=e("exchange:widget/parseURl/parseURl"),n=a(window.location.href);if(n.param.fr="open_bd_news01",n.param.block="news",n.param.type="index",n.param.pn="coindex","news"===n.param.block){document.body.className+=" news";var i=e("exchange:widget/news/news");i(n)}else{document.body.className+=" normal";var t=e("exchange:widget/list/list");t(n)}});
